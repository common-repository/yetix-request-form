!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.r(t);var o=function(e){return React.createElement("svg",r({width:20,height:20,viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),React.createElement("title",null,"Request Form"),React.createElement("defs",null,React.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1"},React.createElement("stop",{"stop-color":"#007988",offset:"0%"}),React.createElement("stop",{"stop-color":"#5EBFC5",offset:"100%"}))),React.createElement("g",{id:"yetix-request",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},React.createElement("g",{id:"noun_form_1237655",fill:"url(#linearGradient-1)","fill-rule":"nonzero"},React.createElement("g",{id:"Group"},React.createElement("path",{d:"M1.70138889,0 C0.768998556,0 0,0.768944556 0,1.70138889 L0,18.3007811 C0,19.2332256 0.768998556,20 1.70138889,20 L18.2986111,20 C19.2310022,20 20,19.2332256 20,18.3007811 L20,1.70138889 C20,0.768944556 19.2310022,0 18.2986111,0 L1.70138889,0 Z M1.70138889,1.11328122 L18.2986111,1.11328122 C18.6346267,1.11328122 18.8888889,1.36527778 18.8888889,1.70138889 L18.8888889,18.3007811 C18.8888889,18.6368922 18.6346267,18.8888889 18.2986111,18.8888889 L1.70138889,18.8888889 C1.36537356,18.8888889 1.11111111,18.6368922 1.11111111,18.3007811 L1.11111111,1.70138889 C1.11111111,1.36527778 1.36537356,1.11328122 1.70138889,1.11328122 Z M9.44444444,3.33333333 C9.13763228,3.33333333 8.88888889,3.58207673 8.88888889,3.88888889 L8.88888889,7.22222222 C8.88888889,7.52903438 9.13763228,7.77777778 9.44444444,7.77777778 L16.1111111,7.77777778 C16.4179233,7.77777778 16.6666667,7.52903438 16.6666667,7.22222222 L16.6666667,3.88888889 C16.6666667,3.58207673 16.4179233,3.33333333 16.1111111,3.33333333 L9.44444444,3.33333333 Z M3.33333333,4.44444444 L3.33333333,5.55555556 L6.66666667,5.55555556 L6.66666667,4.44444444 L3.33333333,4.44444444 Z M10,4.44444444 L15.5555556,4.44444444 L15.5555556,6.66666667 L10,6.66666667 L10,4.44444444 Z M9.44444444,8.88888889 C9.13763228,8.88888889 8.88888889,9.13763228 8.88888889,9.44444444 L8.88888889,12.7777778 C8.88888889,13.0845899 9.13763228,13.3333333 9.44444444,13.3333333 L16.1111111,13.3333333 C16.4179233,13.3333333 16.6666667,13.0845899 16.6666667,12.7777778 L16.6666667,9.44444444 C16.6666667,9.13763228 16.4179233,8.88888889 16.1111111,8.88888889 L9.44444444,8.88888889 Z M3.33333333,10 L3.33333333,11.1111111 L6.66666667,11.1111111 L6.66666667,10 L3.33333333,10 Z M10,10 L15.5555556,10 L15.5555556,12.2222222 L10,12.2222222 L10,10 Z M3.33333333,15.5555556 L3.33333333,16.6666667 L16.55382,16.6666667 L16.55382,15.5555556 L3.33333333,15.5555556 Z",id:"Shape"})))))};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=wp.i18n.__,f=wp.element,m=f.Fragment,d=f.Component,y=wp.components,b=(y.PanelBody,y.SelectControl),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,o=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={optionsList:[],label:p("Template","yetix-request-form"),block_slug:null,restRoute:{route:"yetix/v1/block-templates/",method:"GET"}},void 0!==t.props.options&&t.setOptions(t.props.options),t.fetchPost(),t}return t=l,(n=[{key:"setOptions",value:function(e){void 0!==e.label&&(this.state.label=e.label),void 0!==e.restRoute&&(this.state.restRoute=e.restRoute),void 0!==e.block_slug&&(this.state.block_slug=e.block_slug)}},{key:"fetchPost",value:function(){var e=this.state.block_slug,t=this.state.restRoute,n=t.route,r=t.method;wp.apiFetch({path:n+e,method:r}).then(function(e){var t=[];"success"===e.status&&e.templates.map((function(e){t.push({value:e.value,label:e.label})})),this.setState({optionsList:t})}.bind(this))}},{key:"render",value:function(){var e=this.props,t=e.setAttributes,n=e.template,r=this.state,o=r.label,l=(r.restRoute,r.optionsList);return React.createElement(m,null,1<l.length&&React.createElement(b,{label:o,value:n,onChange:function(e){t({template:e})},options:this.state.optionsList}))}}])&&i(t.prototype,n),r&&i(t,r),l}(d);!function(e){var t=e.serverSideRender,n=e.i18n,r=n.__,l=n._x,i=e.blocks.registerBlockType,a=e.components,u=a.SelectControl,c=a.PanelBody,s=a.ToggleControl,p=a.BaseControl,f=a.RangeControl,m=e.blockEditor,d=m.URLInputButton,y=m.InspectorControls,b=e.element.Fragment;i("yetix/requestform",{title:r("Request Form","yetix-request-form"),icon:{background:"#F1F9F9",src:o},keywords:[l("form","block_search_keyword","yetix-request-form"),l("ticket","block_search_keyword","yetix-request-form"),l("zendesk","block_search_keyword","yetix-request-form")],category:"yetix_blocks",attributes:{template:{type:"string",default:"default"},hide_form_after_send:{type:"boolean",default:!1},return_type:{type:"string",default:"display_msg"},return_url:{type:"string",default:null},return_timeout:{type:"number",default:1e3}},supports:{className:!0,align:["left","center","right","wide","full"]},edit:function(e){var n=e.attributes,o=e.setAttributes,l=n.return_type,i=n.return_url,a=n.return_timeout,m=n.hide_form_after_send,_=n.template;return React.createElement(b,null,React.createElement(y,null,React.createElement(c,{title:r("Request Form Settings","yetix-request-form"),initialOpen:!0},React.createElement(v,{options:{label:r("Template","yetix-request-form"),block_slug:"requestform"},template:_,setAttributes:o}),React.createElement(u,{label:r("Return type","yetix-request-form"),value:l,options:[{label:r("Display result in the form","yetix-request-form"),value:"display_msg"},{label:r("Redirect to a specific url","yetix-request-form"),value:"redirect"}],onChange:function(e){return o({return_type:e})}})),"redirect"===l&&React.createElement(c,{title:r("Redirect behavior","yetix-request-form"),initialOpen:!1},React.createElement(p,{label:r("Redirection url","yetix-request-form")},React.createElement(d,{url:i,onChange:function(e,t){return o({value:e,return_url:e})}})),React.createElement(f,{label:r("redirection timeout","yetix-request-form"),step:"500",min:"0",max:"20000",onChange:function(e){return o({return_timeout:e})},value:a})),"display_msg"===l&&React.createElement(c,{title:r("Display behavior","yetix-request-form"),initialOpen:!1},React.createElement(s,{label:r("hide form when send","yetix-request-form"),checked:m,onChange:function(){return o({hide_form_after_send:!m})}}),React.createElement(f,{label:r("re-enable form timeout","yetix-request-form"),step:"500",min:"0",max:"20000",onChange:function(e){return o({return_timeout:e})},value:a}))),React.createElement(t,{block:"yetix/requestform",attributes:n}))},save:function(){return null}})}(window.wp)}]);